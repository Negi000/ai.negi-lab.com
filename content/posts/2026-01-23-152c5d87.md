---
title: "AIエージェントの暴走を防ぐ守護神？MCPガバナンス層「Preloop」を徹底解剖"
date: 2026-01-23T00:00:00+09:00
description: "AIと外部データを繋ぐ標準規格「MCP」にセキュリティと統制（ガバナンス）をもたらすツール。AIが勝手に実行してはいけない操作をポリシーベースで制限できる"
cover:
  image: "/images/posts/2026-01-23-152c5d87.png"
  alt: "AI generated thumbnail"
  relative: false
categories:
  - "AI Tools"
tags:
  - "GenAI"
  - "ツール"
  - "レビュー"
---
**注意:** 本記事の検証パートはシミュレーションです。実際の測定結果ではありません。

## 3行要約

- AIと外部データを繋ぐ標準規格「MCP」にセキュリティと統制（ガバナンス）をもたらすツール
- AIが勝手に実行してはいけない操作をポリシーベースで制限できる
- 実行ログの可視化により、企業でのAIエージェント利用における懸念を払拭してくれる


> 💡 **プログラミング書籍のおすすめ**
> 
> **[Python機械学習プログラミング](https://www.amazon.co.jp/s?k=Python%20%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92%20%E6%9B%B8%E7%B1%8D&tag=negi3939-22)** - ML/DLの定番入門書


## このツールは何か

最近、Anthropicが提唱した「MCP（Model Context Protocol）」が話題ですよね。MCPは、AIモデルとローカルファイルやデータベース、APIなどを接続するためのオープンな標準規格です。

ただ、エンジニアの方ならピンとくると思いますが、AIにツールを使わせるとなると「勝手にファイルを消されないか」「機密データにアクセスされないか」というセキュリティの不安が常につきまといます。

今回紹介する「Preloop」は、そのMCPに「ガバナンス層（統制レイヤー）」を追加してくれるプロダクトです。AIとツールの間に立ち、実行して良い操作かどうかを判定し、すべての行動を記録してくれます。個人的には、MCPが普及するためのミッシングピースだと思っています。

## 検証シミュレーション：実際に使ってみた

今回は、ローカル環境にPreloopを導入し、AIが「許可されていないディレクトリ」のファイルを読み取ろうとした際に、適切にブロックできるかをシミュレーションしてみました。

### 環境構築

まずはSDKをインストールします。ここでは仮のライブラリ名として進めます。

```bash
pip install preloop-python-sdk
```

### 基本的な使い方

Pythonのコード上で、MCPサーバーをPreloopのガバナンス層でラップするイメージです。今回は「プロジェクトのドキュメント（docs）」以外の読み取りを禁止するポリシーを適用してみます。

```python
from preloop import PreloopGovernance
from mcp_server import FileSystemTool

# ガバナンス層の初期化
# ポリシー：/docs 以外のフォルダへのアクセスは拒否
policy = {
    "allowed_paths": ["./docs/*"],
    "action_on_violation": "deny"
}

governor = PreloopGovernance(api_key="your-api-key", policy=policy)

# 既存のMCPツールをガバナンス層でラップ
secure_tool = governor.wrap(FileSystemTool())

# AIが禁止されたディレクトリ（/secrets）のファイルを読もうとしたと想定
try:
    result = secure_tool.read_file("/secrets/password.txt")
    print(result)
except Exception as e:
    print(f"アクセス拒否されました: {e}")
```

### 実行結果

実行してみると、以下のようなログがPreloopの管理画面（およびコンソール）に出力されました。

```
[Preloop Audit] Timestamp: 2024-05-20 14:00:05
[Preloop Audit] Agent: GPT-4o-based-mcp-client
[Preloop Audit] Action: read_file
[Preloop Audit] Parameter: /secrets/password.txt
[Preloop Audit] Status: BLOCKED (Policy Violation: Unauthorized Path)
[Preloop Audit] Reason: Path "/secrets" is not in the allowed list.

アクセス拒否されました: Permission denied by Preloop Governance Layer.
```

このように、コード側で細かく制御しなくても、Preloop側で一元管理できるのは非常に便利ですね。

## メリット・デメリット

### メリット
- セキュリティの担保：AIが誤って、あるいは悪意のあるプロンプトによって重要なデータを操作するのを防げます。
- 監査ログ：誰が（どのAIが）いつ、どのツールで何をしたかがすべて記録されるため、コンプライアンス要件を満たしやすいです。
- ポリシーの一元管理：複数のMCPツールを使っていても、Preloop側でポリシーをまとめて管理できます。

### デメリット
- オーバーヘッド：間に一層挟むため、極わずかながらレスポンスの遅延が発生する可能性があります。
- 学習コスト：ガバナンスポリシーの書き方を覚える必要がありますが、これは安全のためには仕方のない部分かと思います。

## 私の評価

正直なところ、これまでMCPは「便利だけど本番環境や企業で使うには怖すぎる」という印象でした。しかし、Preloopのようなガバナンスツールが出てきたことで、その懸念は一気に解消されそうです。

元SIerの視点から見ても、企業にAIエージェントを導入するなら、こうしたログ管理と権限管理の仕組みは必須と言えます。個人開発者であっても、自分の大切なローカルファイルをAIに壊されないための保険として、導入を検討する価値は十分にあります。

星評価: ★★★★☆
（MCP自体の進化が早いため、今後の追従への期待を込めて4つにしました！）

ぜひ皆さんも、安全なAIエージェントライフのためにチェックしてみてください。

---

## 🛒 この記事で紹介した関連商品


### 📦 プログラミング書籍のおすすめ

<div style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 16px; margin: 8px 0; background: #fafafa;">
  <strong style="font-size: 16px;">🛍️ Python機械学習プログラミング</strong>
  <p style="color: #666; margin: 8px 0; font-size: 14px;">ML/DLの定番入門書</p>
  <div style="display: flex; gap: 8px; flex-wrap: wrap;">
    <a href="https://www.amazon.co.jp/s?k=Python%20%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92%20%E6%9B%B8%E7%B1%8D&tag=negi3939-22" target="_blank" rel="noopener sponsored" style="padding: 6px 12px; background: #ff9900; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">Amazonで見る</a>
    <a href="https://search.rakuten.co.jp/search/mall/Python%20%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92%20%E6%9B%B8%E7%B1%8D/?scid=5000cbfd.5f52567b.5000cbff.924460a4" target="_blank" rel="noopener sponsored" style="padding: 6px 12px; background: #bf0000; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">楽天で見る</a>
  </div>
</div><div style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 16px; margin: 8px 0; background: #fafafa;">
  <strong style="font-size: 16px;">🛍️ PyTorch実践入門</strong>
  <p style="color: #666; margin: 8px 0; font-size: 14px;">ディープラーニング実装の決定版</p>
  <div style="display: flex; gap: 8px; flex-wrap: wrap;">
    <a href="https://www.amazon.co.jp/s?k=PyTorch%20%E5%AE%9F%E8%B7%B5%20%E6%9B%B8%E7%B1%8D&tag=negi3939-22" target="_blank" rel="noopener sponsored" style="padding: 6px 12px; background: #ff9900; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">Amazonで見る</a>
    <a href="https://search.rakuten.co.jp/search/mall/PyTorch%20%E5%AE%9F%E8%B7%B5%20%E6%9B%B8%E7%B1%8D/?scid=5000cbfd.5f52567b.5000cbff.924460a4" target="_blank" rel="noopener sponsored" style="padding: 6px 12px; background: #bf0000; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">楽天で見る</a>
  </div>
</div>
### 📦 AI活用書籍のおすすめ

<div style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 16px; margin: 8px 0; background: #fafafa;">
  <strong style="font-size: 16px;">🛍️ ChatGPT/LLM超活用術</strong>
  <p style="color: #666; margin: 8px 0; font-size: 14px;">プロンプトエンジニアリングの極意</p>
  <div style="display: flex; gap: 8px; flex-wrap: wrap;">
    <a href="https://www.amazon.co.jp/s?k=ChatGPT%20%E6%B4%BB%E7%94%A8%20%E6%9B%B8%E7%B1%8D&tag=negi3939-22" target="_blank" rel="noopener sponsored" style="padding: 6px 12px; background: #ff9900; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">Amazonで見る</a>
    <a href="https://search.rakuten.co.jp/search/mall/ChatGPT%20%E6%B4%BB%E7%94%A8%20%E6%9B%B8%E7%B1%8D/?scid=5000cbfd.5f52567b.5000cbff.924460a4" target="_blank" rel="noopener sponsored" style="padding: 6px 12px; background: #bf0000; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">楽天で見る</a>
  </div>
</div><div style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 16px; margin: 8px 0; background: #fafafa;">
  <strong style="font-size: 16px;">🛍️ OpenAI API実践ガイド</strong>
  <p style="color: #666; margin: 8px 0; font-size: 14px;">API連携アプリ開発</p>
  <div style="display: flex; gap: 8px; flex-wrap: wrap;">
    <a href="https://www.amazon.co.jp/s?k=OpenAI%20API%20%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0&tag=negi3939-22" target="_blank" rel="noopener sponsored" style="padding: 6px 12px; background: #ff9900; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">Amazonで見る</a>
    <a href="https://search.rakuten.co.jp/search/mall/OpenAI%20API%20%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/?scid=5000cbfd.5f52567b.5000cbff.924460a4" target="_blank" rel="noopener sponsored" style="padding: 6px 12px; background: #bf0000; color: white; text-decoration: none; border-radius: 4px; font-size: 13px;">楽天で見る</a>
  </div>
</div>
### 🔎 もっと探す

<div style="display: flex; gap: 10px; flex-wrap: wrap; margin: 15px 0;">
<a href="https://www.amazon.co.jp/s?k=AI%20%E4%BA%BA%E5%B7%A5%E7%9F%A5%E8%83%BD%20%E5%85%A5%E9%96%80&tag=negi3939-22" target="_blank" rel="noopener sponsored" style="padding: 10px 20px; background: linear-gradient(135deg, #ff9900, #ff6600); color: white; text-decoration: none; border-radius: 6px; font-weight: bold;">Amazonで「AI 人工知能 入門」を検索</a>
<a href="https://search.rakuten.co.jp/search/mall/AI%20%E4%BA%BA%E5%B7%A5%E7%9F%A5%E8%83%BD%20%E5%85%A5%E9%96%80/?scid=5000cbfd.5f52567b.5000cbff.924460a4" target="_blank" rel="noopener sponsored" style="padding: 10px 20px; background: linear-gradient(135deg, #bf0000, #8b0000); color: white; text-decoration: none; border-radius: 6px; font-weight: bold;">楽天で検索</a>
</div>

<small style="color: #888;">※上記リンクはアフィリエイトリンクです。購入により当サイトに収益が発生する場合があります。</small>
